<nav class="navbar navbar-expand-md bg-dark navbar-dark">
    <div class="container">
      <div class="collapse navbar-collapse" id="navbar3SupportedContent">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" routerLink="/">Home </a><span class="glyphicon glyphicon-search" aria-hidden="true"></span>
          </li>
        </ul>
      </div>
    </div>
  </nav>
<div class="panel panel-default">
  <div class="panel-heading">
    <!-- <div>
      <span>Sort sections by :</span>
      <select>
        <option value="ascending">Ascending</option>
        <option value="descending">Descending</option>
        <option value="date">Modified Date</option>
      </select>
    </div> -->
    <button class="btn btn-primary btn-right" style="margin-top: 7px;margin-right: 10%;" routerLinkActive="active" routerLink="/" >
      Home
    </button>
    <!-- <button class="btn btn-primary btn-right" style="margin-top: 7px;margin-right: 10%;" (click)="submitSurvey()">
      Submit
    </button> -->
  </div>
  <div class="panel-body container">
    <ngb-accordion [closeOthers]="true"  #acc="ngbAccordion">
      <div class="inner-div">
        <ngb-panel *ngFor="let section of data">
          <template ngbPanelTitle class="card-header" >
            <span class="accordion-item"><label class="label-title section-title">{{section.sectionName}}</label></span>
          </template>
          <template ngbPanelContent >
            <div class="content" *ngFor="let inputType of section.questions;let i=index;" >
                <div class="each-element" *ngIf="inputType.questionType==0">
                    <label><span style="float:left">{{i+1+". "}}</span><span style="float:left" [innerHtml]="inputType.questionName"></span></label>
                  <img style="float:right;height:34px;width:36px" *ngIf="!inputType.flag" (click)="inputType.flagMenu=true;inputType.flag=true" src="assets/img/flagDisable.png">
                  <!-- <div class="dropdown show"> 
                      <img class="dropdown-toggle" style="float:right;height:34px;width:36px" *ngIf="inputType.flag" (click)="inputType.flag=false" src="assets/img/flagEnable.jpg">
                  </div> -->
                  <img style="float:right;height:34px;width:36px" *ngIf="inputType.flag" (click)="inputType.flagMenu=false;inputType.flag=false" src="assets/img/flagEnable.jpg">
                  <div style="float:right;" *ngIf="inputType.flagMenu">
                      <div style="display:block;position:relative" class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                          <a class="dropdown-item" (click)="inputType.flagMenu=false" href="#">Question Needs review</a>
                          <a class="dropdown-item" (click)="inputType.flagMenu=false" href="#">Responder is not Answering</a>
                        </div>
                  </div>
                  <div>
                    <input id="text+{{i}}" class="form-control input-md" [(ngModel)]="inputType.answer.answerText" placeholder="{{inputType.answer.answerText}}"/>
                  </div>
                </div>
                <div class="each-element" *ngIf="inputType.questionType==3 ">
                    <label><span style="float:left">{{i+1+". "}}</span><span style="float:left" [innerHtml]="inputType.questionName"></span></label>
                  <img style="float:right;height:34px;width:36px" *ngIf="!inputType.flag" (click)="inputType.flag=true" src="assets/img/flagDisable.png">
                  <img style="float:right;height:34px;width:36px" *ngIf="inputType.flag" (click)="inputType.flag=false" src="assets/img/flagEnable.jpg">
                  <label class="radio option-width" *ngFor="let item of inputType.answer.answerOptionsText.split(':');let j=index">
                    <input type="radio" name="options{{i}}" (click)="inputType.answer.answerText = item"
                           [checked]="item === inputType.answer.answerText"
                    >
                    <span style="word-break:break-all">{{item}}</span>
                  </label>
                </div>
                <div class="each-element" *ngIf="inputType.questionType==1">
                    <label><span style="float:left">{{i+1+". "}}</span><span style="float:left" [innerHtml]="inputType.questionName"></span></label>
                  <img style="float:right;height:34px;width:36px" *ngIf="!inputType.flag" (click)="inputType.flag=true" src="assets/img/flagDisable.png">
                  <img style="float:right;height:34px;width:36px" *ngIf="inputType.flag" (click)="inputType.flag=false" src="assets/img/flagEnable.jpg">
                  <label class="checkbox  option-width" *ngFor="let element of inputType.answer.answerOptionsText.split(':'); let i = index;">
                    <input type="checkbox"
                           [checked]="element==inputType.answer.answerText" (change)="inputType.answer.answerText=element">
                           <span style="word-break:break-all">{{element}}</span>
                  </label>
                </div>
                <div class="each-element" *ngIf="inputType.questionType==5">
                    <label><span style="float:left">{{i+1+". "}}</span><span style="float:left" [innerHtml]="inputType.questionName"></span></label>
                  <img style="float:right;height:34px;width:36px" *ngIf="!inputType.flag" (click)="inputType.flag=true" src="assets/img/flagDisable.png">
                  <img style="float:right;height:34px;width:36px" *ngIf="inputType.flag" (click)="inputType.flag=false" src="assets/img/flagEnable.jpg">
                  <div>
                    <input class="form-control input-md" type="date" [(ngModel)]="inputType.answer.answerText"/>
                  </div>
                </div>
                <div class="each-element" *ngIf="inputType.questionType==8">
                    <label><span style="float:left">{{i+1+". "}}</span><span style="float:left" [innerHtml]="inputType.questionName"></span></label>
                  <img style="float:right;height:34px;width:36px" *ngIf="!inputType.flag" (click)="inputType.flag=true" src="assets/img/flagDisable.png">
                  <img style="float:right;height:34px;width:36px" *ngIf="inputType.flag" (click)="inputType.flag=false" src="assets/img/flagEnable.jpg">
                  <div>
                    <table class="table table-bordered table-striped">
                      <thead>
                      <tr>
                          <th *ngFor="let column of inputType.Columns">
                              {{column.columnName}}
                          </th>
                        </tr>
                        </thead>
                        <tbody *ngIf="inputType.subQuestions.length>0">
                            <tr *ngFor="let question of inputType.subQuestions;let j=index;">
                                <td  *ngFor="let rowColumn of question.rows[0].columns | orderBy: 'subQuestionColumnId'">
                                      <div *ngIf="rowColumn.columnType == 'label'">
                                        <span *ngIf="!rowColumn.show" (click)="rowColumn.show=true">{{rowColumn.columnValue}}</span>
                                        <input [focus]="rowColumn.show" *ngIf="rowColumn.show==true" (focusout)="rowColumn.show=false" [(ngModel)]="rowColumn.columnValue"/>
                                      </div>
                                      <div *ngIf="rowColumn.columnType == 'textfield'">
                                        <input type="text" [(ngModel)]="rowColumn.columnValue"/>
                                      </div>
                                      <div *ngIf="rowColumn.columnType == 'radio'">
                                        <label><input name="tabOpt{{i}}{{j}}{{k}}" [(ngModel)]="rowColumn.columnValue" [value]="True" type="radio"/> Yes </label>
                                        <label><input name="tabOpt{{i}}{{j}}{{k}}" [(ngModel)]="rowColumn.columnValue" [value]="False" type="radio"/> No</label>
                                      </div>
                                      <div *ngIf="rowColumn.columnType == 'checkbox'">
                                        <input type="checkbox" [(ngModel)]="rowColumn.columnValue"/>
                                      </div>
                                  </td>
                                  <span style="cursor:pointer" (click)="deleteTheRow(inputType,j)">delete</span>
                            </tr>            
                        </tbody>
                    </table>
                    <button class="btn pointer" (click)="addRow(inputType)">Add row</button>
                  </div>
                </div>
                <div class="each-element" *ngIf="inputType.questionType==4">
                    <label><span style="float:left">{{i+1+". "}}</span><span style="float:left" [innerHtml]="inputType.questionName"></span></label>
                  <img style="float:right;height:34px;width:36px" *ngIf="!inputType.flag" (click)="inputType.flag=true" src="assets/img/flagDisable.png">
                  <div class="dropdown show"> 
                      <img class="dropdown-toggle" style="float:right;height:34px;width:36px" *ngIf="inputType.flag" (click)="inputType.flag=false" src="assets/img/flagEnable.jpg">
                  </div>
                  <!-- <img style="float:right;height:34px;width:36px" *ngIf="inputType.flag" (click)="inputType.flag=false" src="assets/img/flagEnable.jpg"> -->
                  <div>
                      <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                          <a class="dropdown-item" href="#">Action</a>
                          <a class="dropdown-item" href="#">Another action</a>
                          <a class="dropdown-item" href="#">Something else here</a>
                        </div>
                  </div>
                  <div>
                    <table class="table table-bordered table-striped">
                      <thead>
                      <tr>
                          <th *ngFor="let column of inputType.Columns">
                              {{column.columnName}}
                          </th>
                        </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let question of inputType.subQuestions;let j=index;">
                                <td *ngFor="let rowColumn of question.rows[0].columns | orderBy: 'subQuestionColumnId'">
                                      <div *ngIf="rowColumn.columnType == 'label'">
                                        <span>{{rowColumn.columnValue}}</span>
                                      </div>
                                      <div *ngIf="rowColumn.columnType == 'textfield'">
                                        <input type="text" [(ngModel)]="rowColumn.columnValue"/>
                                      </div>
                                      <div *ngIf="rowColumn.columnType == 'radio'">
                                        <label><input name="tabOpt{{i}}{{j}}{{k}}" [(ngModel)]="rowColumn.columnValue" [value]="True" type="radio"/> Yes </label>
                                        <label><input name="tabOpt{{i}}{{j}}{{k}}" [(ngModel)]="rowColumn.columnValue" [value]="False" type="radio"/> No</label>
                                      </div>
                                      <div *ngIf="rowColumn.columnType == 'checkbox'">
                                        <input type="checkbox" [(ngModel)]="rowColumn.columnValue"/>
                                      </div>
                                  </td>                           
                            </tr>            
                        </tbody>
                    </table>
                  </div>
                </div>
                <div class="each-element" *ngIf="inputType.questionType==6">
                    <label><span style="float:left">{{i+1+". "}}</span><span style="float:left" [innerHtml]="inputType.questionName"></span></label>
                  <img style="float:right;height:34px;width:36px" *ngIf="!inputType.flag" (click)="inputType.flag=true" src="assets/img/flagDisable.png">
                  <img style="float:right;height:34px;width:36px" *ngIf="inputType.flag" (click)="inputType.flag=false" src="assets/img/flagEnable.jpg">
                  <div *ngFor="let subQue of inputType.subQuestions;let j=index">
                      <div  style="width:100%;height:28px">                    
                          <div>
                              <span style="float:left">{{i+1}}.{{j+1}}</span>
                              <div  style="float:left" *ngFor="let rowColumn of subQue.Rows[0].Columns;let k=index">                    
                                  <div *ngIf="rowColumn.ColumnType == 'label'">
                                      <span class="label1" *ngIf="!rowColumn.show" (click)="rowColumn.show=true">{{rowColumn.ColumnValue}}</span>
                                  </div>
                                      <input *ngIf="rowColumn.ColumnType == 'textfield'" type="text" [(ngModel)]="rowColumn.ColumnValue"/>
                                    <label *ngIf="rowColumn.ColumnType == 'radio'"><input name="tabOpt{{i}}{{j}}{{k}}" [(ngModel)]="rowColumn.ColumnValue" value="True" type="radio"/> Yes </label>
                                    <label *ngIf="rowColumn.ColumnType == 'radio'"><input name="tabOpt{{i}}{{j}}{{k}}+'No'" [(ngModel)]="rowColumn.ColumnValue" value="False" type="radio"/> No</label>
                                    <input *ngIf="rowColumn.ColumnType == 'checkBox'" type="checkbox" [(ngModel)]="rowColumn.ColumnValue"/>
                                </div>
                          </div>  
                          <br/>                  
                      </div> 
                  </div>
                </div>
                <div class="each-element" *ngIf="inputType.questionType==7">
                  <label><span style="float:left">{{i+1+". "}}</span><span style="float:left" [innerHtml]="inputType.questionName"></span></label>
                  <img style="float:right;height:34px;width:36px" *ngIf="!inputType.flag" (click)="inputType.flag=true" src="assets/img/flagDisable.png">
                  <img style="float:right;height:34px;width:36px" *ngIf="inputType.flag" (click)="inputType.flag=false" src="assets/img/flagEnable.jpg">
                  <div *ngFor="let answer of inputType.answers;let j=index;">
                    <input class="form-control input-md" style="width:40%;margin:3px;margin-right:500px;" [(ngModel)]="answer.AnswerText">
                  </div>
                  <br/>
                </div>
              </div>
          </template>
        </ngb-panel>
      </div>
    </ngb-accordion>
  </div>
</div>

